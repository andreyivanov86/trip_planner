<!DOCTYPE html>
<html>

<head>
  <title>Trip Planner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
  <link href='https://api.mapbox.com/mapbox-gl-js/v0.40.0/mapbox-gl.css' rel='stylesheet' />
  <link rel="stylesheet" href="./style.css"></link>
</head>

<body>
  <header>
    <h1>TripPlanner</h1>
  </header>
  <div id="app">
    <div id="map"></div>
    <aside>
      <div class="panel" id="options-panel">
        <div>
          <h2>Hotels</h2>
          <select id="hotels-choices">
          </select>
          <button id="hotels-add" class="options-btn">+</button>
        </div>
        <div>
          <h2>Restaurants</h2>
          <select id="restaurants-choices">
          </select>
          <button id="restaurants-add" class="options-btn">+</button>
        </div>
        <div>
          <h2>Activities</h2>
          <select id="activities-choices">
          </select>
          <button id="activities-add" class="options-btn">+</button>
        </div>
      </div>
      <div class="panel" id="itinerary">
        <div>
          <h2>My Hotel</h2>
          <ul class="list-group" id="hotels-list">

          </ul>
        </div>
        <div>
          <h2>My Restaurants</h2>
          <ul class="list-group" id="restaurants-list">

          </ul>
        </div>
        <div>
          <h2>My Activities</h2>
          <ul class="list-group" id="activities-list">

          </ul>
        </div>
      </div>
    </aside>
  </div>
  <script src="./bundle.js"></script>
  <script>
    window.addEventListener('load', event => {
      fetch('/api/attractions')
        .then(result => result.json())
        .then(data => {
          console.log(data)
          let hotels = data[0];
          let hotelSelect = document.getElementById("hotels-choices");
          hotels.forEach( hotel => {
            let option = document.createElement('option');
            option.text = hotel.name;
            option.value = hotel.id;
            hotelSelect.add(option);
          });
          let activities = data[1];
          let activitySelect = document.getElementById("activities-choices");
          activities.forEach( activity => {
            let option = document.createElement('option');
            option.text = activity.name;
            option.value = activity.id;
            activitySelect.add(option);
          });
          let restaurants = data[2];
          let restaurantSelect = document.getElementById("restaurants-choices");
          restaurants.forEach( restaurant => {
            let option = document.createElement('option');
            option.text = restaurant.name;
            option.value = restaurant.id;
            restaurantSelect.add(option);
          });
        })
        .catch(console.error);
    })
  </script>
</body>


</html>
